{"version":3,"file":"bundle.js","sources":["../../examples/src/main.js"],"sourcesContent":["\r\nlet vs_file = './shaders/basic_color.vs';\r\nlet fs_file = './shaders/basic_color.fs';\r\n\r\nfunction createMesh(){\r\n\r\n    let format = new mini3d.VertexFormat();\r\n    format.addAttrib(mini3d.VertexSemantic.POSITION, 3);\r\n    format.addAttrib(mini3d.VertexSemantic.COLOR, 3);\r\n\r\n    // cube\r\n    //       ^ Y\r\n    //       | \r\n    //       |\r\n    //       / -------> X \r\n    //      /\r\n    //     v\r\n    //    Z\r\n    //\r\n    //    v6----- v5\r\n    //   /|      /|\r\n    //  v1------v0|\r\n    //  | |     | |\r\n    //  | |v7---|-|v4\r\n    //  |/      |/\r\n    //  v2------v3\r\n\r\n    let mesh = new mini3d.Mesh(format);  \r\n    //6个面（12个三角形），24个顶点  \r\n    let position_data = [\r\n        //v0-v1-v2-v3 front (0,1,2,3)\r\n        1.0, 1.0, 1.0,  -1.0, 1.0, 1.0,  -1.0, -1.0, 1.0,  1.0, -1.0, 1.0,\r\n        //v0-v3-v4-v5 right (4,5,6,7)\r\n        1.0, 1.0, 1.0,  1.0, -1.0, 1.0,  1.0, -1.0, -1.0,  1.0, 1.0, -1.0,\r\n        //v0-v5-v6-v1 top (8,9,10,11)\r\n        1.0, 1.0, 1.0,  1.0, 1.0, -1.0,  -1.0, 1.0, -1.0, -1.0, 1.0, 1.0,\r\n        //v1-v6-v7-v2 left (12,13,14,15)\r\n        -1.0, 1.0, 1.0,  -1.0, 1.0, -1.0,  -1.0, -1.0, -1.0,  -1.0, -1.0, 1.0,\r\n        //v7-v4-v3-v2 bottom (16,17,18,19)\r\n        -1.0, -1.0, -1.0,  1.0, -1.0, -1.0,  1.0, -1.0, 1.0,  -1.0, -1.0, 1.0,\r\n        //v4-v7-v6-v5 back (20,21,22,23)\r\n        1.0, -1.0, -1.0,  -1.0, -1.0, -1.0,  -1.0, 1.0, -1.0,  1.0, 1.0, -1.0        \r\n    ];\r\n    let color_data = [\r\n        //v0-v1-v2-v3 front (blue)\r\n        0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0,\r\n        //v0-v3-v4-v5 right (green)\r\n        0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0,\r\n        //v0-v5-v6-v1 top (red)\r\n        1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0,\r\n        //v1-v6-v7-v2 left (yellow)\r\n        1.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0, 0.0,\r\n        //v7-v4-v3-v2 bottom (white)\r\n        1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,\r\n        //v4-v7-v6-v5 back\r\n        0.0, 1.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0\r\n    ];\r\n\r\n    let triangels = [\r\n        0,1,2, 0,2,3,       //front\r\n        4,5,6, 4,6,7,       //right\r\n        8,9,10, 8,10,11,    //top\r\n        12,13,14, 12,14,15, //left\r\n        16,17,18, 16,18,19, //bottom\r\n        20,21,22, 20,22,23  //back\r\n    ]\r\n\r\n\r\n    mesh.setVertexData(mini3d.VertexSemantic.POSITION, position_data);    \r\n    mesh.setVertexData(mini3d.VertexSemantic.COLOR, color_data);   \r\n    mesh.setTriangles(triangels);\r\n    mesh.upload();            \r\n\r\n    return mesh;   \r\n}\r\n\r\nlet modelMatrix = new mini3d.Matrix4();\r\nlet viewProjMatrix = new mini3d.Matrix4();\r\nlet mvpMatrix = new mini3d.Matrix4();\r\nlet rotX = 0;\r\nlet rotY = 0;\r\nlet rotZ = 0;\r\n\r\nfunction example(){\r\n    let gl = mini3d.gl;\r\n\r\n    let vs = mini3d.assetManager.getAsset(vs_file).data;\r\n    let fs = mini3d.assetManager.getAsset(fs_file).data;\r\n\r\n    let shader = new mini3d.Shader();\r\n    if(!shader.create(vs, fs)){\r\n        console.log(\"Failed to initialize shaders\");\r\n        return;\r\n    }\r\n\r\n    shader.mapAttributeSemantic(mini3d.VertexSemantic.POSITION, 'a_Position');\r\n    shader.mapAttributeSemantic(mini3d.VertexSemantic.COLOR, 'a_Color');    \r\n\r\n    shader.use();    \r\n\r\n    let mesh = createMesh();     \r\n\r\n    let viewMatrix = new mini3d.Matrix4();\r\n    viewMatrix.setLookAt(.0, .0, 8.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);\r\n    viewProjMatrix.setPerspective(30.0, mini3d.canvas.width/mini3d.canvas.height, 1.0, 100.0);\r\n    viewProjMatrix.multiply(viewMatrix);\r\n\r\n    setupInput(function(dx, dy, rotateZ){\r\n        \r\n        if(rotateZ){\r\n            rotZ += dx;\r\n        } else {\r\n            rotX = Math.max(Math.min(rotX + dy, 90.0), -90.0);\r\n            //rotX += dy;\r\n            rotY += dx;\r\n        }\r\n        draw(mesh, shader);\r\n    })\r\n    \r\n\r\n    gl.clearColor(0, 0, 0, 1);\r\n    gl.clearDepth(1.0);\r\n    gl.enable(gl.DEPTH_TEST);\r\n\r\n    draw(mesh, shader);\r\n}\r\n\r\n\r\nfunction draw(mesh, shader){        \r\n    \r\n    //rotate order: x-y-z\r\n    modelMatrix.setRotate(rotZ, 0, 0, 1); //rot around z-axis\r\n    modelMatrix.rotate(rotY, 0.0, 1.0, 0.0); //rot around y-axis\r\n    modelMatrix.rotate(rotX, 1.0, 0.0, 0.0); //rot around x-axis\r\n\r\n    mvpMatrix.set(viewProjMatrix);\r\n    mvpMatrix.multiply(modelMatrix);\r\n    \r\n    shader.setUniform('u_mvpMatrix', mvpMatrix.elements);\r\n\r\n    let gl = mini3d.gl;\r\n    gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);\r\n    mesh.render(shader);\r\n}\r\n\r\nfunction setupInput(onDrag){\r\n    let dragging = false;\r\n    let lastX = -1, lastY = -1;\r\n    let rotateZ = false;\r\n\r\n    mini3d.canvas.onmousedown = function(event){             \r\n        let x = event.clientX;\r\n        let y = event.clientY;\r\n        let rect = event.target.getBoundingClientRect();\r\n        if(x>=rect.left && x<rect.right && y>=rect.top && y<rect.bottom){\r\n            lastX = x;\r\n            lastY = y;\r\n            dragging = true;            \r\n            rotateZ = event.ctrlKey;            \r\n        }\r\n    }\r\n\r\n    mini3d.canvas.onmouseup = function(event){\r\n        dragging = false;        \r\n    }\r\n\r\n    mini3d.canvas.onmousemove = function(event){        \r\n        let x = event.clientX;\r\n        let y = event.clientY;\r\n        if(dragging){\r\n            let factor = 300/mini3d.canvas.height;\r\n            let dx = factor * (x-lastX);\r\n            let dy = factor * (y-lastY);\r\n            if(onDrag){\r\n                onDrag(dx, dy, rotateZ);\r\n            }            \r\n        }\r\n        lastX = x;\r\n        lastY = y;\r\n    }\r\n}\r\n\r\n\r\nexport default function main(){    \r\n    let assetList = [\r\n        [vs_file, mini3d.AssetType.Text],\r\n        [fs_file, mini3d.AssetType.Text]\r\n    ]\r\n\r\n    mini3d.assetManager.loadAssetList(assetList, function(){                \r\n        example();\r\n    });\r\n   \r\n}\r\n"],"names":["vs_file","fs_file","createMesh","format","mini3d","VertexFormat","addAttrib","VertexSemantic","POSITION","COLOR","mesh","Mesh","position_data","color_data","triangels","setVertexData","setTriangles","upload","modelMatrix","Matrix4","viewProjMatrix","mvpMatrix","rotX","rotY","rotZ","example","gl","vs","assetManager","getAsset","data","fs","shader","Shader","create","console","log","mapAttributeSemantic","use","viewMatrix","setLookAt","setPerspective","canvas","width","height","multiply","setupInput","dx","dy","rotateZ","Math","max","min","draw","clearColor","clearDepth","enable","DEPTH_TEST","setRotate","rotate","set","setUniform","elements","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","render","onDrag","dragging","lastX","lastY","onmousedown","event","x","clientX","y","clientY","rect","target","getBoundingClientRect","left","right","top","bottom","ctrlKey","onmouseup","onmousemove","factor","main","assetList","AssetType","Text","loadAssetList"],"mappings":"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"}