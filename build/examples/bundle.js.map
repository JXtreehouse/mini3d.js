{"version":3,"file":"bundle.js","sources":["../../node_modules/core-js/internals/global.js","../../node_modules/core-js/internals/fails.js","../../node_modules/core-js/internals/descriptors.js","../../node_modules/core-js/internals/object-property-is-enumerable.js","../../node_modules/core-js/internals/create-property-descriptor.js","../../node_modules/core-js/internals/classof-raw.js","../../node_modules/core-js/internals/indexed-object.js","../../node_modules/core-js/internals/require-object-coercible.js","../../node_modules/core-js/internals/to-indexed-object.js","../../node_modules/core-js/internals/is-object.js","../../node_modules/core-js/internals/to-primitive.js","../../node_modules/core-js/internals/has.js","../../node_modules/core-js/internals/document-create-element.js","../../node_modules/core-js/internals/ie8-dom-define.js","../../node_modules/core-js/internals/object-get-own-property-descriptor.js","../../node_modules/core-js/internals/an-object.js","../../node_modules/core-js/internals/object-define-property.js","../../node_modules/core-js/internals/hide.js","../../node_modules/core-js/internals/set-global.js","../../node_modules/core-js/internals/shared.js","../../node_modules/core-js/internals/function-to-string.js","../../node_modules/core-js/internals/native-weak-map.js","../../node_modules/core-js/internals/uid.js","../../node_modules/core-js/internals/shared-key.js","../../node_modules/core-js/internals/hidden-keys.js","../../node_modules/core-js/internals/internal-state.js","../../node_modules/core-js/internals/redefine.js","../../node_modules/core-js/internals/path.js","../../node_modules/core-js/internals/get-built-in.js","../../node_modules/core-js/internals/to-integer.js","../../node_modules/core-js/internals/to-length.js","../../node_modules/core-js/internals/to-absolute-index.js","../../node_modules/core-js/internals/array-includes.js","../../node_modules/core-js/internals/object-keys-internal.js","../../node_modules/core-js/internals/enum-bug-keys.js","../../node_modules/core-js/internals/object-get-own-property-names.js","../../node_modules/core-js/internals/object-get-own-property-symbols.js","../../node_modules/core-js/internals/own-keys.js","../../node_modules/core-js/internals/copy-constructor-properties.js","../../node_modules/core-js/internals/is-forced.js","../../node_modules/core-js/internals/export.js","../../node_modules/core-js/internals/a-function.js","../../node_modules/core-js/internals/function-bind.js","../../node_modules/core-js/modules/es.function.bind.js","../../examples/src/AppTexturedCube.js","../../examples/src/AppObjLoader.js","../../examples/src/AppSimpleScene.js","../../src/math/math.js","../../src/math/vector3.js","../../examples/src/AppNormalMap.js","../../examples/src/AppMirror.js","../../examples/src/AppPostProcessing.js","../../examples/src/main.js"],"sourcesContent":["var O = 'object';\nvar check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == O && globalThis) ||\n  check(typeof window == O && window) ||\n  check(typeof self == O && self) ||\n  check(typeof global == O && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar hide = require('../internals/hide');\n\nmodule.exports = function (key, value) {\n  try {\n    hide(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\nvar IS_PURE = require('../internals/is-pure');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.2.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var shared = require('../internals/shared');\n\nmodule.exports = shared('native-function-to-string', Function.toString);\n","var global = require('../internals/global');\nvar nativeFunctionToString = require('../internals/function-to-string');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(nativeFunctionToString.call(WeakMap));\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar hide = require('../internals/hide');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    hide(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hide = require('../internals/hide');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar nativeFunctionToString = require('../internals/function-to-string');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(nativeFunctionToString).split('toString');\n\nshared('inspectSource', function (it) {\n  return nativeFunctionToString.call(it);\n});\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) hide(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else hide(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || nativeFunctionToString.call(this);\n});\n","module.exports = require('../internals/global');\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(length, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar hide = require('../internals/hide');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      hide(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var $ = require('../internals/export');\nvar bind = require('../internals/function-bind');\n\n// `Function.prototype.bind` method\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\n$({ target: 'Function', proto: true }, {\n  bind: bind\n});\n","let vs_file = './shaders/tex_color.vs';\nlet fs_file = './shaders/tex_color.fs';\nlet tex_file = './imgs/box_diffuse.jpg';\n\n\nclass AppTexturedCube{\n    constructor(){\n        this._inited = false;\n        this._mesh = null;\n        this._shader = null;\n        this._texture = null;\n        \n        this._viewMatrix = new mini3d.Matrix4();\n        this._modelMatrix = new mini3d.Matrix4();\n        this._normalMatrix = new mini3d.Matrix4();\n        this._viewProjMatrix = new mini3d.Matrix4();\n        this._mvpMatrix = new mini3d.Matrix4();\n        this._rotX = 30;\n        this._rotY = 30;\n        this._rotZ = 0;\n    }\n\n    onInit(){\n        let assetList = [\n            [vs_file, mini3d.AssetType.Text],\n            [fs_file, mini3d.AssetType.Text],\n            [tex_file, mini3d.AssetType.Image]\n        ]\n    \n        mini3d.assetManager.loadAssetList(assetList, function(){    \n            this._inited = true;            \n            this.start();\n        }.bind(this));\n\n        this._viewMatrix.setViewByLookAt(.0, .0, 8.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);\n    }\n\n    onResize(width, height){                \n        this._viewProjMatrix.setPerspective(60.0, width/height, 1.0, 100.0);\n        this._viewProjMatrix.multiply(this._viewMatrix);   \n        \n        if(this._inited){            \n            this.draw();\n        }        \n    }\n\n    onUpdate(dt){\n       \n    }\n\n    start(){\n        let gl = mini3d.gl;\n        \n        let vs = mini3d.assetManager.getAsset(vs_file).data;\n        let fs = mini3d.assetManager.getAsset(fs_file).data;\n\n        let shader = new mini3d.Shader();\n        if(!shader.create(vs, fs)){\n            console.log(\"Failed to initialize shaders\");\n            return;\n        }\n\n        this._shader = shader;\n        this._shader.mapAttributeSemantic(mini3d.VertexSemantic.POSITION, 'a_Position');\n        this._shader.mapAttributeSemantic(mini3d.VertexSemantic.NORMAL, 'a_Normal');    \n        this._shader.mapAttributeSemantic(mini3d.VertexSemantic.UV0, 'a_TexCoord');        \n        this._shader.use();\n    \n        this._texture = mini3d.textureManager.getTexture(tex_file);\n        this._mesh = mini3d.Cube.createMesh();              \n\n        let that = this;\n        mini3d.eventManager.addEventHandler(mini3d.SystemEvent.touchMove, function(event, data){      \n            let factor = 300/mini3d.canvas.width;      \n            let dx = data.dx * factor;\n            let dy = data.dy * factor;                        \n            \n            let clampAngle = function(angle, min, max){\n                if(angle<-360) angle+=360;\n                if(angle>360) angle-=360;\n                return Math.max(Math.min(angle, max), min);\n            }\n            that._rotX = clampAngle(that._rotX + dy, -90.0, 90.0);\n            that._rotY += dx;            \n            that.draw();\n        });\n\n        \n        gl.clearColor(0, 0, 0, 1);\n        gl.clearDepth(1.0);\n        gl.enable(gl.DEPTH_TEST);\n\n        this.draw();\n    }    \n\n    draw(){        \n    \n        //rotate order: y-x-z\n        this._modelMatrix.setRotate(this._rotZ, 0, 0, 1); //rot around z-axis\n        this._modelMatrix.rotate(this._rotX, 1.0, 0.0, 0.0); //rot around x-axis\n        this._modelMatrix.rotate(this._rotY, 0.0, 1.0, 0.0); //rot around y-axis\n\n        this._normalMatrix.setInverseOf(this._modelMatrix)\n        this._normalMatrix.transpose();\n    \n        this._mvpMatrix.set(this._viewProjMatrix);\n        this._mvpMatrix.multiply(this._modelMatrix);\n        \n        this._shader.setUniform('u_mvpMatrix', this._mvpMatrix.elements);\n        this._shader.setUniform('u_NormalMatrix', this._normalMatrix.elements);\n        this._shader.setUniform('u_LightColor', [1.0,1.0,1.0]);\n        let lightDir = [0.5, 3.0, 4.0];\n        this._shader.setUniform('u_LightDir', lightDir);\n    \n        this._texture.bind();\n        this._shader.setUniform('u_sampler', 0);\n    \n        let gl = mini3d.gl;\n        gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);\n        this._mesh.render(this._shader);\n    \n        this._texture.unbind();\n    }\n}\n\nexport default AppTexturedCube;","\nlet vs_file = './shaders/basic_light.vs';\nlet fs_file = './shaders/basic_light.fs';\nlet obj_file = './models/dragon.obj';\n\n\nclass AppObjLoader{\n    constructor(){\n        this._inited = false;\n        this._mesh = null;\n        this._shader = null;       \n        \n        this._viewMatrix = new mini3d.Matrix4();\n        this._modelMatrix = new mini3d.Matrix4();\n        this._viewProjMatrix = new mini3d.Matrix4();\n        this._mvpMatrix = new mini3d.Matrix4();\n        this._normalMatrix = new mini3d.Matrix4();\n        this._rotationQuat = new mini3d.Quaternion();\n        this._matRot = new mini3d.Matrix4();\n\n        this._rotX = 0;\n        this._rotY = 0;\n    }\n\n    onInit(){\n        let assetList = [\n            [vs_file, mini3d.AssetType.Text],\n            [fs_file, mini3d.AssetType.Text],\n            [obj_file, mini3d.AssetType.Text]\n        ]\n    \n        mini3d.assetManager.loadAssetList(assetList, function(){                \n            this._inited = true;\n            this.start();\n        }.bind(this));\n\n        this._viewMatrix.setViewByLookAt(.0, .0, 8.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0);\n    }\n\n    onResize(width, height){\n        this._viewProjMatrix.setPerspective(60.0, width/height, 1.0, 100.0);\n        this._viewProjMatrix.multiply(this._viewMatrix);\n\n        if(this._inited){            \n            this.draw();\n        }  \n    }\n\n    onUpdate(dt){\n\n    }\n\n    start(){\n        let gl = mini3d.gl;\n    \n        let vs = mini3d.assetManager.getAsset(vs_file).data;\n        let fs = mini3d.assetManager.getAsset(fs_file).data;\n    \n        let shader = new mini3d.Shader();\n        if(!shader.create(vs, fs)){\n            console.log(\"Failed to initialize shaders\");\n            return;\n        }\n    \n        this._shader = shader;\n        this._shader.mapAttributeSemantic(mini3d.VertexSemantic.POSITION, 'a_Position');\n        this._shader.mapAttributeSemantic(mini3d.VertexSemantic.NORMAL, 'a_Normal');\n        this._shader.use();        \n    \n        let objFileString = mini3d.assetManager.getAsset(obj_file).data;\n        this._mesh = mini3d.objFileLoader.load(objFileString, 0.3);                    \n        \n        let that = this;\n        mini3d.eventManager.addEventHandler(mini3d.SystemEvent.touchMove, function(event, data){                           \n            let factor = 300/mini3d.canvas.width;      \n            let dx = data.dx * factor;\n            let dy = data.dy * factor;    \n            \n            let clampAngle = function(angle, min, max){\n                if(angle<-360) angle+=360;\n                if(angle>360) angle-=360;\n                return Math.max(Math.min(angle, max), min);\n            }\n            that._rotX = clampAngle(that._rotX + dy, -90.0, 90.0);\n            that._rotY += dx;  \n    \n            //先旋转qy,再旋转qx\n            let qx = mini3d.Quaternion.axisAngle(mini3d.Vector3.Right, that._rotX);\n            let qy = mini3d.Quaternion.axisAngle(mini3d.Vector3.Up, that._rotY);\n            mini3d.Quaternion.multiply(qx, qy, that._rotationQuat);\n    \n            //欧拉角的约定是先x后y,不是这里要的\n            //that._rotationQuat.setFromEulerAngles(new mini3d.Vector3(that._rotX, that._rotY, 0));\n    \n            mini3d.Quaternion.toMatrix4(that._rotationQuat, that._matRot);\n            \n            that.draw();\n        })\n        \n    \n        gl.clearColor(0, 0, 0, 1);\n        gl.clearDepth(1.0);\n        gl.enable(gl.DEPTH_TEST);\n    \n        this.draw();\n    }\n\n    draw(){         \n        this._modelMatrix.setTranslate(0, -1.0, 0);               \n        this._modelMatrix.multiply(this._matRot);\n        this._modelMatrix.scale(1.0, 1.0, 1.0);\n    \n        this._normalMatrix.setInverseOf(this._modelMatrix)\n        this._normalMatrix.transpose();    \n    \n        this._mvpMatrix.set(this._viewProjMatrix);\n        this._mvpMatrix.multiply(this._modelMatrix);\n        \n        this._shader.setUniform('u_mvpMatrix', this._mvpMatrix.elements);\n        this._shader.setUniform('u_NormalMatrix', this._normalMatrix.elements);\n        this._shader.setUniform('u_LightColor', [1.0,1.0,1.0]);\n        let lightDir = [0.5, 3.0, 4.0];\n        this._shader.setUniform('u_LightDir', lightDir);\n    \n        let gl = mini3d.gl;\n        gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);\n        this._mesh.render(this._shader);\n    \n    }\n}\n\nexport default AppObjLoader;","let obj_file_capsule = './models/capsule.obj';\nlet obj_file_sphere = './models/sphere.obj';\nlet obj_main_texture = './imgs/wall01_diffuse.jpg';\nlet plane_main_texture = './imgs/wall02_diffuse.png';\n\nclass AppSimpleScene {\n    constructor() {             \n        this._time = 0;        \n        this._rotDegree = 0;\n        this._tempQuat = new mini3d.Quaternion();\n        this._tempVec3 = new mini3d.Vector3();\n    }\n\n    onInit() {\n        let assetList = [\n            [obj_file_capsule, mini3d.AssetType.Text],\n            [obj_file_sphere, mini3d.AssetType.Text],\n            [obj_main_texture, mini3d.AssetType.Image],\n            [plane_main_texture, mini3d.AssetType.Image]\n        ]\n\n        mini3d.assetManager.loadAssetList(assetList, function () {            \n            this.start();\n        }.bind(this));\n    }\n\n    onResize(width, height) {\n        if (this._scene) {\n            this._scene.onScreenResize(width, height);\n        }\n    }    \n\n    start() {\n        this.createWorld();\n        \n        mini3d.eventManager.addEventHandler(mini3d.SystemEvent.touchMove, function (event, data) {\n            let factor = 0.01;\n            let dx = data.dx;\n            let dy = data.dy;\n\n            this._tempVec3.copyFrom(this._mesh2.localPosition);\n            this._tempVec3.z += dy * factor;\n            this._tempVec3.x += dx * factor;\n            this._mesh2.localPosition = this._tempVec3;\n\n        }.bind(this));\n    }\n\n    createWorld() {\n\n        // Load meshes\n        let capusleData = mini3d.assetManager.getAsset(obj_file_capsule).data;\n        let capusleMesh = mini3d.objFileLoader.load(capusleData, 1.0, true);\n\n        let sphereData = mini3d.assetManager.getAsset(obj_file_sphere).data;\n        let sphereMesh = mini3d.objFileLoader.load(sphereData, 1.0);\n\n        \n        // Create scene\n        this._scene = new mini3d.Scene();\n\n        // Create a plane\n        let planeMesh = mini3d.Plane.createMesh(20, 20, 20, 20);\n        let matPlane = new mini3d.MatPixelLight();\n        matPlane.mainTexture = mini3d.textureManager.getTexture(plane_main_texture);\n        matPlane.mainTexture.setRepeat();\n        matPlane.mainTextureST = [2,2,0,0];\n        matPlane.specular = [0.8, 0.8, 0.8];\n        this._planeNode = this._scene.root.addMeshNode(planeMesh, matPlane);\n        this._planeNode.localPosition.set(0,0,0);       \n\n        // Create an empty mesh root node\n        let meshRoot = this._scene.root.addEmptyNode();        \n        //meshRoot.localPosition.set(-1, 1, 1);\n        //meshRoot.localScale.set(0.8, 1, 1);\n        //meshRoot.localRotation.setFromAxisAngle(new mini3d.Vector3(0, 1, 0), 45);\n\n        // Create mesh node 1\n        let material1 = new mini3d.MatPixelLight();\n        material1.mainTexture = mini3d.textureManager.getTexture(obj_main_texture);\n        material1.colorTint = [1.0, 1.0, 1.0];\n        material1.specular = [0.8, 0.8, 0.8];\n\n        this._mesh1 = meshRoot.addMeshNode(capusleMesh, material1);\n        this._mesh1.localPosition.set(1, 1, 0);        \n        \n        // Create mesh node 2\n        let material2 = new mini3d.MatPixelLight();\n        material2.mainTexture = mini3d.textureManager.getTexture(obj_main_texture);\n        material2.colorTint = [1.0, 1.0, 1.0];\n        material2.specular = [0.8, 0.8, 0.8];\n        material2.gloss = 20;\n\n        this._mesh2 = meshRoot.addMeshNode(capusleMesh, material2);\n        this._mesh2.localPosition.set(-1, 1, 0);\n        this._mesh2.localScale.set(1, 1, 1);\n        \n        // Add a directional light node to scene\n        let mainLight = this._scene.root.addDirectionalLight([0.5,0.5,0.5]);\n        //this._tempQuat.setFromEulerAngles(this._tempVec3.set(135,45,0));\n        //mainLight.localRotation = this._tempQuat;\n        mainLight.lookAt(this._tempVec3.set(-1,-1,-1));\n\n        // Add point light 1\n        let lightColor = [0,0.1,0];\n        let pointLight = this._scene.root.addPointLight(lightColor,10);\n        pointLight.localPosition.set(-5, 6, 0);\n        let lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.3,0.9,0.3])); //点光源身上放一个小球以显示他的位置   \n        lightball.localScale.set(0.5,0.5,0.5);\n        this._pointLight1 = pointLight;             \n\n        // Add point light 2\n        lightColor = [0.1,0,0];\n        pointLight = this._scene.root.addPointLight(lightColor,10);\n        pointLight.localPosition.set(5, 6, 0);\n        lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.3,0.3]));\n        lightball.localScale.set(0.5,0.5,0.5);\n        this._pointLight2 = pointLight;\n        \n        // Add a perspective camera\n        this._cameraNode = this._scene.root.addPerspectiveCamera(60, mini3d.canvas.width / mini3d.canvas.height, 1.0, 1000);        \n        this._cameraNode.localPosition.set(0, 10, 10);\n        this._cameraNode.lookAt(new mini3d.Vector3(0, 0, 0));\n        this._cameraNode.camera.clearColor = [0.2,0.5,0.5];\n\n    }\n\n    onUpdate(dt) {\n        if (this._scene) {\n            this._time += dt;\n            this._scene.update();\n\n            //mesh2自动旋转\n            if(true){\n                this._mesh2.localRotation.setFromEulerAngles(new mini3d.Vector3(this._rotDegree, this._rotDegree, this._rotDegree));\n                this._mesh2.localPosition.y = (0.5+0.5*Math.cos(mini3d.math.degToRad(this._rotDegree)))*5;\n                this._mesh2.setTransformDirty();\n                this._rotDegree += dt*100/1000;\n                this._rotDegree %= 360;                       \n            }\n\n            //mesh1看向mesh2\n            this._mesh1.lookAt(this._mesh2.worldPosition, mini3d.Vector3.Up, 0.1);                    \n           \n            //灯光做圆周运动\n            let cosv = Math.cos(this._time/1000);\n            let sinv = Math.sin(this._time/1000);\n            let radius = 5;\n            \n            this._pointLight1.localPosition.x = radius*cosv*cosv;\n            this._pointLight1.localPosition.z = radius*sinv*cosv;\n            this._pointLight1.localPosition.y = 1+radius*(0.5+0.5*sinv);\n            this._pointLight1.setTransformDirty();\n\n            this._pointLight2.localPosition.x = -radius*cosv*cosv;\n            this._pointLight2.localPosition.z = -radius*sinv*cosv;\n            this._pointLight2.localPosition.y = 1+radius*(0.5+0.5*sinv);\n            this._pointLight2.setTransformDirty();\n\n           \n            this._scene.render();\n        }\n    }\n}\n\nexport default AppSimpleScene;","\nclass MathUtils{\n    constructor(){\n        this.Pi = 3.141592654;\n        this.TwoPi = 6.283185307;\n        this.HalfPi = 1.570796327;\n\n        this.Epsilon = 0.000001;\n        this.ZeroEpsilon = 32.0 * 1.175494351e-38; // Very small epsilon for checking against 0.0f\n    }\n\n    degToRad(degree){\n        return degree * 0.017453293;\n    }\n\n    radToDeg(rad){\n        return rad * 57.29577951;\n    }\n\n    clamp(f, min, max){\n        if(f<min) f = min;\n        else if(f>max) f = max;\n        return f;\n    }\n}\n\nlet math = new MathUtils();\n\nexport { math };","import { math } from \"./math\";\n\nclass Vector3{\n    constructor(x=0,y=0,z=0){\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n    clone(){\n        return new Vector3(this.x, this.y, this.z);\n    }\n\n    set(x,y,z){\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n    }\n\n    length(){\n        return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);\n    }\n\n    lengthSquare(){\n        return this.x*this.x+this.y*this.y+this.z*this.z;\n    }\n\n    equals(rhs){\n        let eps = math.Epsilon;\n        return (this.x > rhs.x - eps && this.x < rhs.x + eps &&\n                this.y > rhs.y - eps && this.y < rhs.y + eps &&\n                this.z > rhs.z - eps && this.z < rhs.z + eps);\n    }\n\n    copyFrom(rhs){\n        this.x = rhs.x;\n        this.y = rhs.y;\n        this.z = rhs.z;\n        return this;\n    }\n\n    negative(){\n        this.x = -this.x;\n        this.y = -this.y;\n        this.z = -this.z;\n        return this;\n    }\n\n    add(rhs){\n        this.x += rhs.x;\n        this.y += rhs.y;\n        this.z += rhs.z;\n        return this;\n    }\n\n    sub(rhs){\n        this.x -= rhs.x;\n        this.y -= rhs.y;\n        this.z -= rhs.z;\n        return this;\n    }\n\n    multiply(rhs){\n        this.x *= rhs.x;\n        this.y *= rhs.y;\n        this.z *= rhs.z;\n        return this;\n    }\n\n    scale(s){\n        this.x *= s;\n        this.y *= s;\n        this.z *= s;\n        return this;\n    }\n\n    normalize(){\n        let lensq =this.x*this.x+this.y*this.y+this.z*this.z;\n        if(lensq > 0){\n           let g = 1/Math.sqrt(lensq);\n           this.x *= g;\n           this.y *= g;\n           this.z *= g;\n        }\n\n        return this;\n    }\n\n    static copyTo(src, dst){\n        dst.x = src.x;\n        dst.y = src.y;\n        dst.z = src.z;\n        return dst;\n    }\n\n    static negativeTo(src, dst){\n        dst.x = -src.x;\n        dst.y = -src.y;\n        dst.z = -src.z;\n        return dst;\n    }\n\n    static add(a, b, dst){\n        dst.x = a.x + b.x;\n        dst.y = a.y + b.y;\n        dst.z = a.z + b.z;\n        return dst;\n    }\n\n    static sub(a, b, dst){\n        dst.x = a.x - b.x;\n        dst.y = a.y - b.y;\n        dst.z = a.z - b.z;\n        return dst;\n    }\n\n    static multiply(a, b, dst){\n        dst.x = a.x * b.x;\n        dst.y = a.y * b.y;\n        dst.z = a.z * b.z;\n        return dst;\n    }\n\n    static scaleTo(a, s, dst){\n        dst.x = a.x * s;\n        dst.y = a.y * s;\n        dst.z = a.z * s;\n        return dst;\n    }\n\n    static dot(a, b){\n        return a.x * b.x + a.y * b.y + a.z * b.z;\n    }\n\n    static cross(a, b, dst){\n        dst.x = a.y * b.z - a.z * b.y;\n        dst.y = a.z * b.x - a.x * b.z;\n        dst.z = a.x * b.y - a.y * b.x;\n        return dst;\n    }\n\n    static lerp(a, b, f, dst){\n        dst.x = a.x + (b.x-a.x)*f;\n        dst.y = a.y + (b.y-a.y)*f;\n        dst.z = a.z + (b.z-a.z)*f;\n        return dst;\n    }\n\n    static distance(a,b){\n        let dx = a.x - b.x;\n        let dy = a.y - b.y;\n        let dz = a.z - b.z;\n        return Math.sqrt(dx*dx+dy*dy+dz*dz);\n    }\n\n    static distanceSquare(a,b){\n        let dx = a.x - b.x;\n        let dy = a.y - b.y;\n        let dz = a.z - b.z;\n        return dx*dx+dy*dy+dz*dz;\n    }\n}\n\nVector3.Right = new Vector3(1, 0, 0);\nVector3.Up = new Vector3(0, 1, 0);\n\nexport { Vector3 };","import { Vector3 } from \"../../src/math/vector3\";\n\nlet obj_file_capsule = './models/capsule.obj';\nlet obj_file_sphere = './models/sphere.obj';\nlet obj_main_texture = './imgs/wall01_diffuse.jpg';\nlet obj_normal_map = './imgs/wall01_normal.jpg';\nlet box_main_texture = './imgs/box_diffuse.jpg';\nlet box_normal_map = './imgs/box_normal.jpg';\nlet plane_main_texture = './imgs/wall02_diffuse.png';\nlet plane_normal_map = './imgs/wall02_normal.png';\nlet brick_main_texture = './imgs/brickwall_diffuse.jpg';\nlet brick_normal_map = './imgs/brickwall_normal.jpg';\n\nclass AppNormalMap {\n    constructor() {             \n        this._time = 0;     \n        this._rotX = 0;\n        this._rotY = 0;           \n        this._tempQuat = new mini3d.Quaternion();\n        this._tempVec3 = new mini3d.Vector3();\n    }\n\n    onInit() {\n        let assetList = [\n            [obj_file_capsule, mini3d.AssetType.Text],\n            [obj_file_sphere, mini3d.AssetType.Text],\n            [obj_main_texture, mini3d.AssetType.Image],\n            [obj_normal_map, mini3d.AssetType.Image],\n            [box_main_texture, mini3d.AssetType.Image],\n            [box_normal_map, mini3d.AssetType.Image],\n            [plane_main_texture, mini3d.AssetType.Image],\n            [plane_normal_map, mini3d.AssetType.Image],\n            [brick_main_texture, mini3d.AssetType.Image],\n            [brick_normal_map, mini3d.AssetType.Image]\n        ]\n\n        mini3d.assetManager.loadAssetList(assetList, function () {            \n            this.start();\n        }.bind(this));\n    }\n\n    onResize(width, height) {\n        if (this._scene) {\n            this._scene.onScreenResize(width, height);\n        }\n    }    \n\n    start() {\n        this.createWorld();\n        \n        mini3d.eventManager.addEventHandler(mini3d.SystemEvent.touchMove, function (event, data) {            \n            let dx = data.dx;\n            let dy = data.dy;\n\n            let clampAngle = function (angle, min, max) {\n                if (angle < -360) angle += 360;\n                if (angle > 360) angle -= 360;\n                return Math.max(Math.min(angle, max), min);\n            }\n            this._rotX = clampAngle(this._rotX + dy, -90.0, 90.0);\n            this._rotY += dx;\n\n            //先旋转qy,再旋转qx\n            let qx = mini3d.Quaternion.axisAngle(mini3d.Vector3.Right, this._rotX);\n            let qy = mini3d.Quaternion.axisAngle(mini3d.Vector3.Up, this._rotY);\n            mini3d.Quaternion.multiply(qx, qy, this._tempQuat);\n            this._mesh1.localRotation = this._tempQuat;\n            this._mesh2.localRotation = this._tempQuat;\n\n        }.bind(this));\n    }\n\n    createGround(){\n        let groundMesh = mini3d.Plane.createMesh(20, 10, 20, 10);\n        let matGround = new mini3d.MatNormalMap();\n        matGround.mainTexture = mini3d.textureManager.getTexture(plane_main_texture);\n        matGround.mainTexture.setRepeat();\n        matGround.mainTextureST = [3,3,0,0];\n        matGround.normalMap = mini3d.textureManager.getTexture(plane_normal_map);\n        matGround.normalMap.setRepeat();\n        matGround.normalMapST = [3,3,0,0];\n        matGround.specular = [0.8, 0.8, 0.8];\n        let groundNode = this._scene.root.addMeshNode(groundMesh, matGround);\n        groundNode.localPosition.set(0,0,0); \n    }\n\n    createWall(){\n        let wallMesh = mini3d.Plane.createMesh(20, 10, 20, 10);\n        let matWall = new mini3d.MatNormalMap();\n        matWall.mainTexture =  mini3d.textureManager.getTexture(brick_main_texture);\n        matWall.mainTexture.setRepeat();\n        matWall.mainTextureST = [3,3,0,0];\n        matWall.normalMap = mini3d.textureManager.getTexture(brick_normal_map);\n        matWall.normalMap.setRepeat();\n        matWall.normalMapST = [3,3,0,0];\n        matWall.specular = [0.8, 0.8, 0.8];\n        return this._scene.root.addMeshNode(wallMesh, matWall);\n    }\n\n    createWorld() {\n\n        // Load meshes\n        let capusleData = mini3d.assetManager.getAsset(obj_file_capsule).data;\n        let capusleMesh = mini3d.objFileLoader.load(capusleData, 1.0, true);\n\n        let sphereData = mini3d.assetManager.getAsset(obj_file_sphere).data;\n        let sphereMesh = mini3d.objFileLoader.load(sphereData, 1.0, true);\n\n        \n        // Create scene\n        this._scene = new mini3d.Scene();\n\n        // Create the ground\n        this.createGround();  \n        \n        // Create walls\n        let wall1 = this.createWall();\n        wall1.localPosition.set(0, 5, -5);\n        wall1.localRotation.setFromEulerAngles(new Vector3(90,0,0));\n        \n\n        // Create an empty mesh root node\n        let meshRoot = this._scene.root.addEmptyNode();        \n        //meshRoot.localPosition.set(-1, 1, 1);\n        //meshRoot.localScale.set(0.8, 1, 1);\n        //meshRoot.localRotation.setFromAxisAngle(new mini3d.Vector3(0, 1, 0), 45);\n\n        // Create mesh node 1\n        let material1 = new mini3d.MatNormalMap();\n        material1.mainTexture = mini3d.textureManager.getTexture(obj_main_texture);\n        material1.normalMap = mini3d.textureManager.getTexture(obj_normal_map);        \n        material1.colorTint = [1.0, 1.0, 1.0];\n        material1.specular = [0.8, 0.8, 0.8];\n\n        this._mesh1 = meshRoot.addMeshNode(capusleMesh, material1);\n        this._mesh1.localPosition.set(1, 1, 0);        \n        \n        // Create mesh node 2\n        let material2 = new mini3d.MatNormalMapW();\n        material2.mainTexture = mini3d.textureManager.getTexture(box_main_texture);\n        material2.normalMap = mini3d.textureManager.getTexture(box_normal_map);        \n        material2.colorTint = [1.0, 1.0, 1.0];\n        material2.specular = [0.8, 0.8, 0.8];\n        material2.gloss = 10;\n\n        this._mesh2 = meshRoot.addMeshNode(mini3d.Cube.createMesh(), material2);\n        this._mesh2.localPosition.set(-1, 1, 0);\n        this._mesh2.localScale.set(0.8, 0.8, 0.8);\n        \n        // Add a directional light node to scene        \n        let mainLight = this._scene.root.addDirectionalLight([0.8,0.8,0.8]);\n        //this._tempQuat.setFromEulerAngles(this._tempVec3.set(135,-45,0));\n        //mainLight.localRotation = this._tempQuat;\n        mainLight.lookAt(this._tempVec3.set(-1,-1,-1));\n\n        // Add point light 1\n        let lightColor = [0.05,0.05,0.05];\n        let pointLight = this._scene.root.addPointLight(lightColor,10);\n        pointLight.localPosition.set(-5, 6, 0);\n        let lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.9,0.9])); //点光源身上放一个小球以显示他的位置   \n        lightball.localScale.set(0.2,0.2,0.2);\n        this._pointLight1 = pointLight;             \n\n        // Add point light 2\n        lightColor = [0.05,0.05,0.05];\n        pointLight = this._scene.root.addPointLight(lightColor,10);\n        pointLight.localPosition.set(5, 6, 0);\n        lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.9,0.9]));\n        lightball.localScale.set(0.2,0.2,0.2);\n        this._pointLight2 = pointLight;\n\n        // Add a perspective camera\n        this._cameraNode = this._scene.root.addPerspectiveCamera(60, mini3d.canvas.width / mini3d.canvas.height, 1.0, 1000);        \n        this._cameraNode.localPosition.set(0, 2, 6);\n        this._cameraNode.lookAt(new mini3d.Vector3(0, 1, 0));\n        this._cameraNode.camera.clearColor = [0.34,0.98,1];\n    }\n\n    onUpdate(dt) {\n        if (this._scene) {\n            this._time += dt;\n            this._scene.update();             \n           \n            //灯光做圆周运动\n            let cosv = Math.cos(this._time/1500);\n            let sinv = Math.sin(this._time/1500);\n            let radius = 5;\n            \n            this._pointLight1.localPosition.x = radius*cosv*cosv;\n            this._pointLight1.localPosition.z = radius*sinv*cosv;\n            this._pointLight1.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\n            this._pointLight1.setTransformDirty();\n\n            this._pointLight2.localPosition.x = -radius*cosv*cosv;\n            this._pointLight2.localPosition.z = -radius*sinv*cosv;\n            this._pointLight2.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\n            this._pointLight2.setTransformDirty();\n\n            this._scene.render();\n        }\n    }\n}\n\nexport default AppNormalMap;","import { Vector3 } from \"../../src/math/vector3\";\n\nlet obj_file_sphere = './models/sphere.obj';\nlet box_main_texture = './imgs/box_diffuse.jpg';\nlet box_normal_map = './imgs/box_normal.jpg';\nlet plane_main_texture = './imgs/wall02_diffuse.png';\nlet plane_normal_map = './imgs/wall02_normal.png';\nlet brick_main_texture = './imgs/brickwall_diffuse.jpg';\nlet brick_normal_map = './imgs/brickwall_normal.jpg';\n\nclass AppMirror {\n    constructor() {             \n        this._time = 0;     \n        this._rotX = 0;\n        this._rotY = 0;           \n        this._tempQuat = new mini3d.Quaternion();\n        this._tempVec3 = new mini3d.Vector3();\n    }\n\n    onInit() {\n        let assetList = [\n            [obj_file_sphere, mini3d.AssetType.Text],\n            [box_main_texture, mini3d.AssetType.Image],\n            [box_normal_map, mini3d.AssetType.Image],\n            [plane_main_texture, mini3d.AssetType.Image],\n            [plane_normal_map, mini3d.AssetType.Image],\n            [brick_main_texture, mini3d.AssetType.Image],\n            [brick_normal_map, mini3d.AssetType.Image]\n        ]\n\n        mini3d.assetManager.loadAssetList(assetList, function () {            \n            this.start();\n        }.bind(this));\n    }\n\n    onResize(width, height) {\n        if (this._scene) {\n            this._scene.onScreenResize(width, height);\n        }\n    }    \n\n    start() {\n        this.createWorld();\n        \n        mini3d.eventManager.addEventHandler(mini3d.SystemEvent.touchMove, function (event, data) {            \n            let dx = data.dx;\n            let dy = data.dy;\n\n            let clampAngle = function (angle, min, max) {\n                if (angle < -360) angle += 360;\n                if (angle > 360) angle -= 360;\n                return Math.max(Math.min(angle, max), min);\n            }\n            this._rotX = clampAngle(this._rotX + dy, -90.0, 90.0);\n            this._rotY += dx;\n\n            let qx = mini3d.Quaternion.axisAngle(mini3d.Vector3.Right, this._rotX);\n            let qy = mini3d.Quaternion.axisAngle(mini3d.Vector3.Up, this._rotY);\n            mini3d.Quaternion.multiply(qx, qy, this._tempQuat);\n\n            this._mirror.localRotation = this._tempQuat;            \n\n        }.bind(this));\n    }\n\n    createGround(){\n        let groundMesh = mini3d.Plane.createMesh(20, 10, 20, 10);\n        let matGround = new mini3d.MatNormalMap();\n        matGround.mainTexture = mini3d.textureManager.getTexture(plane_main_texture);\n        matGround.mainTexture.setRepeat();\n        matGround.mainTextureST = [3,3,0,0];\n        matGround.normalMap = mini3d.textureManager.getTexture(plane_normal_map);\n        matGround.normalMap.setRepeat();\n        matGround.normalMapST = [3,3,0,0];\n        matGround.specular = [0.8, 0.8, 0.8];\n        let groundNode = this._scene.root.addMeshNode(groundMesh, matGround);\n        groundNode.localPosition.set(0,0,0); \n    }\n\n    createWall(){\n        let wallMesh = mini3d.Plane.createMesh(10, 10, 10, 10);\n        let matWall = new mini3d.MatNormalMap();\n        matWall.mainTexture =  mini3d.textureManager.getTexture(brick_main_texture);\n        matWall.mainTexture.setRepeat();\n        matWall.mainTextureST = [3,3,0,0];\n        matWall.normalMap = mini3d.textureManager.getTexture(brick_normal_map);\n        matWall.normalMap.setRepeat();\n        matWall.normalMapST = [3,3,0,0];\n        matWall.specular = [0.8, 0.8, 0.8];\n        return this._scene.root.addMeshNode(wallMesh, matWall);\n    }\n\n    createMirror(texture){\n        let mirrorRoot = this._scene.root.addEmptyNode();\n        let mirrorMesh = mini3d.Plane.createMesh(6,3,6,3);\n        let matMirror = new mini3d.MatMirror();\n        matMirror.mainTexture = texture;\n        let node = mirrorRoot.addMeshNode(mirrorMesh, matMirror);\n        node.localRotation.setFromEulerAngles(this._tempVec3.set(90,0,0));\n        \n        mirrorRoot.localPosition.set(0, 2, -4);\n        return mirrorRoot;\n    }\n\n    createWorld() {\n\n        // Load meshes\n        let sphereData = mini3d.assetManager.getAsset(obj_file_sphere).data;\n        let sphereMesh = mini3d.objFileLoader.load(sphereData, 1.0, true);\n\n        \n        // Create scene\n        this._scene = new mini3d.Scene();        \n\n        // Create the ground\n        this.createGround();  \n        \n        // Create walls\n        let wall1 = this.createWall();\n        wall1.localPosition.set(0, 5, -5);\n        wall1.localRotation.setFromEulerAngles(new Vector3(90,0,0));\n        let wall2 = this.createWall();\n        wall2.localPosition.set(-5, 5, 0);\n        wall2.localRotation.setFromEulerAngles(new Vector3(90,90,0));\n        let wall3 = this.createWall();\n        wall3.localPosition.set(5, 5, 0);\n        wall3.localRotation.setFromEulerAngles(new Vector3(90,-90,0));\n        let wall4 = this.createWall();\n        wall4.localPosition.set(0, 5, 5);\n        wall4.localRotation.setFromEulerAngles(new Vector3(90,180,0));\n        \n\n        // Create an empty mesh root node\n        let meshRoot = this._scene.root.addEmptyNode();        \n        //meshRoot.localPosition.set(-1, 1, 1);\n        //meshRoot.localScale.set(0.8, 1, 1);\n        //meshRoot.localRotation.setFromAxisAngle(new mini3d.Vector3(0, 1, 0), 45);    \n        \n        // Create box\n        let matBox = new mini3d.MatNormalMapW();\n        matBox.mainTexture = mini3d.textureManager.getTexture(box_main_texture);\n        matBox.normalMap = mini3d.textureManager.getTexture(box_normal_map);        \n        matBox.colorTint = [1.0, 1.0, 1.0];\n        matBox.specular = [0.8, 0.8, 0.8];\n        matBox.gloss = 10;\n\n        let box = meshRoot.addMeshNode(mini3d.Cube.createMesh(), matBox);\n        box.localPosition.set(-1, 1, 0);\n        box.localScale.set(0.8, 0.8, 0.8);\n        this._box = box;\n\n        // Create ball\n        let matBall = new mini3d.MatNormalMap();\n        matBall.mainTexture = mini3d.textureManager.getTexture(plane_main_texture);\n        matBall.normalMap = mini3d.textureManager.getTexture(plane_normal_map);        \n        matBall.colorTint = [1.0, 1.0, 1.0];\n        matBall.specular = [0.8, 0.8, 0.8];\n        let ball = box.addMeshNode(sphereMesh, matBall);\n        ball.localPosition.set(0, 1.5, 0);  \n        \n        // ball2\n        let matBall2 = new mini3d.MatPixelLight();\n        matBall2.mainTexture = mini3d.textureManager.getTexture(box_main_texture);        \n        matBall2.colorTint = [1.0, 1.0, 1.0];\n        matBall2.specular = [0.8, 0.8, 0.8];\n        let ball2 = meshRoot.addMeshNode(sphereMesh, matBall2);\n        ball2.localPosition.set(1, 2, -1); \n        this._ball2 = ball2; \n        \n        // Add a directional light node to scene        \n        let mainLight = this._scene.root.addDirectionalLight([0.8,0.8,0.8]);\n        //this._tempQuat.setFromEulerAngles(this._tempVec3.set(135,-45,0));\n        //mainLight.localRotation = this._tempQuat;\n        mainLight.lookAt(this._tempVec3.set(-1,-1,-1));\n\n        // Add point light 1\n        let lightColor = [0.0,0.05,0.0];\n        let pointLight = this._scene.root.addPointLight(lightColor,10);\n        pointLight.localPosition.set(-5, 6, 0);\n        let lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.5,0.9,0.5])); //点光源身上放一个小球以显示他的位置   \n        lightball.localScale.set(0.2,0.2,0.2);\n        this._pointLight1 = pointLight;             \n\n        // Add point light 2\n        lightColor = [0.05,0.0,0.0];\n        pointLight = this._scene.root.addPointLight(lightColor,10);\n        pointLight.localPosition.set(5, 6, 0);\n        lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.5,0.5]));\n        lightball.localScale.set(0.2,0.2,0.2);\n        this._pointLight2 = pointLight;\n\n        // Add a perspective camera\n        this._cameraNode = this._scene.root.addPerspectiveCamera(60, mini3d.canvas.width / mini3d.canvas.height, 1.0, 1000);        \n        this._cameraNode.localPosition.set(-1, 4, 5);\n        this._cameraNode.lookAt(new mini3d.Vector3(0, 1, 0));\n        this._cameraNode.camera.clearColor = [0.34,0.98,1];\n\n        // Add a render texture and mirror node\n        let mirrorWidth = 2048;\n        let mirrorHeight = 1024;\n        this._renderTexture = new mini3d.RenderTexture(mirrorWidth,mirrorHeight);\n        let mirror = this.createMirror(this._renderTexture.texture2D);\n        this._mirror = mirror;\n        // Add a camera to the mirror\n        this._renderCamera = mirror.addPerspectiveCamera(60, mirrorWidth/mirrorHeight, 0.2, 100);        \n        // //说明：因为Plane创建是顶点分布在本地坐标系的xz平面上的,因此镜子默认是面朝本地+y的，为了将镜子立起来绕x轴旋转了90度\n        // //这样camera挂到镜子结点上，如果不做任何旋转，其本地z轴是冲着世界-y轴的，且由于camera是看向本地-z的\n        // //所以直接挂上camera是看着天的（世界+y)。因此此处让camera绕的本地x轴旋转90度，这样它照着世界+z，和镜子看上去的面向一致。\n        // //但仅仅这样还不行，因为这样camera的up方向是指向世界-y,照到的世界是倒着的。因此要先让camera绕本地z轴旋转180度。\n        // //注：引擎中欧拉角转四元数是按ZXY顺序\n        // //（ps:未来可能应该把引擎生成的平面的朝向改成+z)\n        // this._renderCamera.localRotation.setFromEulerAngles(this._tempVec3.set(90,0,180));\n        // //上面使用欧拉角太麻烦，因为没有编辑器可以边转边看，由于此次我们知道镜子相机朝向的世界位置是+z，因此可以直接使用lookAt\n        // //但这个方法不适用于制作预制件，或者不知道将要把镜子朝哪儿放的情况\n        //this._renderCamera.lookAt(new mini3d.Vector3(0, 0, 1));\n\n        //更新：我给镜子加了一个空的父节点，然后把camera挂到这个父节点上，这样只要把camera的z轴调转就行了。。\n        //保留上面的注释吧，使用欧拉角确实麻烦，还是应该让所有模型的朝向一致\n        this._renderCamera.localRotation.setFromEulerAngles(this._tempVec3.set(0,180,0));\n\n        this._renderCamera.camera.clearColor = [0.34,0.98,1];\n        this._renderCamera.camera.target = this._renderTexture;\n\n    }\n\n    onUpdate(dt) {\n        if (this._scene) {\n            this._time += dt;\n            this._scene.update();             \n           \n            //灯光做圆周运动\n            let cosv = Math.cos(this._time/1500);\n            let sinv = Math.sin(this._time/1500);\n            let radius = 5;\n            \n            this._pointLight1.localPosition.x = radius*cosv*cosv;\n            this._pointLight1.localPosition.z = radius*sinv*cosv;\n            this._pointLight1.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\n            this._pointLight1.setTransformDirty();\n\n            this._pointLight2.localPosition.x = -radius*cosv*cosv;\n            this._pointLight2.localPosition.z = -radius*sinv*cosv;\n            this._pointLight2.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\n            this._pointLight2.setTransformDirty();\n\n            this._box.localRotation = this._tempQuat.setFromEulerAngles(this._tempVec3.set(10*cosv, 10*sinv, 0));\n            this._ball2.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\n            this._ball2.setTransformDirty();\n            \n            this._scene.render();\n        }\n    }\n}\n\nexport default AppMirror;","import { Vector3 } from \"../../src/math/vector3\";\n\nlet obj_file_capsule = './models/capsule.obj';\nlet obj_file_sphere = './models/sphere.obj';\nlet obj_main_texture = './imgs/wall01_diffuse.jpg';\nlet obj_normal_map = './imgs/wall01_normal.jpg';\nlet box_main_texture = './imgs/box_diffuse.jpg';\nlet box_normal_map = './imgs/box_normal.jpg';\nlet plane_main_texture = './imgs/wall02_diffuse.png';\nlet plane_normal_map = './imgs/wall02_normal.png';\nlet brick_main_texture = './imgs/brickwall_diffuse.jpg';\nlet brick_normal_map = './imgs/brickwall_normal.jpg';\n\nclass AppPostProcessing {\n    constructor() {             \n        this._time = 0;     \n        this._rotX = 0;\n        this._rotY = 0;           \n        this._tempQuat = new mini3d.Quaternion();\n        this._tempVec3 = new mini3d.Vector3();\n    }\n\n    onInit() {\n        let assetList = [\n            [obj_file_capsule, mini3d.AssetType.Text],\n            [obj_file_sphere, mini3d.AssetType.Text],\n            [obj_main_texture, mini3d.AssetType.Image],\n            [obj_normal_map, mini3d.AssetType.Image],\n            [box_main_texture, mini3d.AssetType.Image],\n            [box_normal_map, mini3d.AssetType.Image],\n            [plane_main_texture, mini3d.AssetType.Image],\n            [plane_normal_map, mini3d.AssetType.Image],\n            [brick_main_texture, mini3d.AssetType.Image],\n            [brick_normal_map, mini3d.AssetType.Image]\n        ]\n\n        mini3d.assetManager.loadAssetList(assetList, function () {            \n            this.start();\n        }.bind(this));\n    }\n\n    onResize(width, height) {\n        if (this._scene) {\n            this._scene.onScreenResize(width, height);\n        }\n    }    \n\n    start() {\n        this.createWorld();\n        \n        mini3d.eventManager.addEventHandler(mini3d.SystemEvent.touchMove, function (event, data) {            \n            let dx = data.dx;\n            let dy = data.dy;\n\n            let clampAngle = function (angle, min, max) {\n                if (angle < -360) angle += 360;\n                if (angle > 360) angle -= 360;\n                return Math.max(Math.min(angle, max), min);\n            }\n            this._rotX = clampAngle(this._rotX + dy, -90.0, 90.0);\n            this._rotY += dx;\n\n            //先旋转qy,再旋转qx\n            let qx = mini3d.Quaternion.axisAngle(mini3d.Vector3.Right, this._rotX);\n            let qy = mini3d.Quaternion.axisAngle(mini3d.Vector3.Up, this._rotY);\n            mini3d.Quaternion.multiply(qx, qy, this._tempQuat);\n            this._mesh1.localRotation = this._tempQuat;\n            this._mesh2.localRotation = this._tempQuat;\n\n        }.bind(this));\n    }\n\n    createGround(){\n        let groundMesh = mini3d.Plane.createMesh(20, 10, 20, 10);\n        let matGround = new mini3d.MatNormalMap();\n        matGround.mainTexture = mini3d.textureManager.getTexture(plane_main_texture);\n        matGround.mainTexture.setRepeat();\n        matGround.mainTextureST = [3,3,0,0];\n        matGround.normalMap = mini3d.textureManager.getTexture(plane_normal_map);\n        matGround.normalMap.setRepeat();\n        matGround.normalMapST = [3,3,0,0];\n        matGround.specular = [0.8, 0.8, 0.8];\n        let groundNode = this._scene.root.addMeshNode(groundMesh, matGround);\n        groundNode.localPosition.set(0,0,0); \n    }\n\n    createWall(){\n        let wallMesh = mini3d.Plane.createMesh(20, 10, 20, 10);\n        let matWall = new mini3d.MatNormalMap();\n        matWall.mainTexture =  mini3d.textureManager.getTexture(brick_main_texture);\n        matWall.mainTexture.setRepeat();\n        matWall.mainTextureST = [3,3,0,0];\n        matWall.normalMap = mini3d.textureManager.getTexture(brick_normal_map);\n        matWall.normalMap.setRepeat();\n        matWall.normalMapST = [3,3,0,0];\n        matWall.specular = [0.8, 0.8, 0.8];\n        return this._scene.root.addMeshNode(wallMesh, matWall);\n    }\n\n    createWorld() {\n\n        // Load meshes\n        let capusleData = mini3d.assetManager.getAsset(obj_file_capsule).data;\n        let capusleMesh = mini3d.objFileLoader.load(capusleData, 1.0, true);\n\n        let sphereData = mini3d.assetManager.getAsset(obj_file_sphere).data;\n        let sphereMesh = mini3d.objFileLoader.load(sphereData, 1.0, true);\n\n        \n        // Create scene\n        this._scene = new mini3d.Scene();\n\n        // Create the ground\n        this.createGround();  \n        \n        // Create walls\n        let wall1 = this.createWall();\n        wall1.localPosition.set(0, 5, -5);\n        wall1.localRotation.setFromEulerAngles(new Vector3(90,0,0));\n        \n\n        // Create an empty mesh root node\n        let meshRoot = this._scene.root.addEmptyNode();        \n        //meshRoot.localPosition.set(-1, 1, 1);\n        //meshRoot.localScale.set(0.8, 1, 1);\n        //meshRoot.localRotation.setFromAxisAngle(new mini3d.Vector3(0, 1, 0), 45);\n\n        // Create mesh node 1\n        let material1 = new mini3d.MatNormalMap();\n        material1.mainTexture = mini3d.textureManager.getTexture(obj_main_texture);\n        material1.normalMap = mini3d.textureManager.getTexture(obj_normal_map);        \n        material1.colorTint = [1.0, 1.0, 1.0];\n        material1.specular = [0.8, 0.8, 0.8];\n\n        this._mesh1 = meshRoot.addMeshNode(capusleMesh, material1);\n        this._mesh1.localPosition.set(1, 1, 0);        \n        \n        // Create mesh node 2\n        let material2 = new mini3d.MatNormalMapW();\n        material2.mainTexture = mini3d.textureManager.getTexture(box_main_texture);\n        material2.normalMap = mini3d.textureManager.getTexture(box_normal_map);        \n        material2.colorTint = [1.0, 1.0, 1.0];\n        material2.specular = [0.8, 0.8, 0.8];\n        material2.gloss = 10;\n\n        this._mesh2 = meshRoot.addMeshNode(mini3d.Cube.createMesh(), material2);\n        this._mesh2.localPosition.set(-1, 1, 0);\n        this._mesh2.localScale.set(0.8, 0.8, 0.8);\n        \n        // Add a directional light node to scene        \n        let mainLight = this._scene.root.addDirectionalLight([0.8,0.8,0.8]);\n        //this._tempQuat.setFromEulerAngles(this._tempVec3.set(135,-45,0));\n        //mainLight.localRotation = this._tempQuat;\n        mainLight.lookAt(this._tempVec3.set(-1,-1,-1));\n\n        // Add point light 1\n        let lightColor = [0.05,0.05,0.05];\n        let pointLight = this._scene.root.addPointLight(lightColor,10);\n        pointLight.localPosition.set(-5, 6, 0);\n        let lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.9,0.9])); //点光源身上放一个小球以显示他的位置   \n        lightball.localScale.set(0.2,0.2,0.2);\n        this._pointLight1 = pointLight;             \n\n        // Add point light 2\n        lightColor = [0.05,0.05,0.05];\n        pointLight = this._scene.root.addPointLight(lightColor,10);\n        pointLight.localPosition.set(5, 6, 0);\n        lightball = pointLight.addMeshNode(sphereMesh, new mini3d.MatSolidColor([0.9,0.9,0.9]));\n        lightball.localScale.set(0.2,0.2,0.2);\n        this._pointLight2 = pointLight;\n\n        // Add a perspective camera\n        this._cameraNode = this._scene.root.addPerspectiveCamera(60, mini3d.canvas.width / mini3d.canvas.height, 1.0, 1000);        \n        this._cameraNode.localPosition.set(0, 2, 6);\n        this._cameraNode.lookAt(new mini3d.Vector3(0, 1, 0));\n        this._cameraNode.camera.clearColor = [0.34,0.98,1];\n        this._cameraNode.camera.addPostProcessing(new mini3d.MatPP_Grayscale());\n    }\n\n    onUpdate(dt) {\n        if (this._scene) {\n            this._time += dt;\n            this._scene.update();             \n           \n            //灯光做圆周运动\n            let cosv = Math.cos(this._time/1500);\n            let sinv = Math.sin(this._time/1500);\n            let radius = 5;\n            \n            this._pointLight1.localPosition.x = radius*cosv*cosv;\n            this._pointLight1.localPosition.z = radius*sinv*cosv;\n            this._pointLight1.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\n            this._pointLight1.setTransformDirty();\n\n            this._pointLight2.localPosition.x = -radius*cosv*cosv;\n            this._pointLight2.localPosition.z = -radius*sinv*cosv;\n            this._pointLight2.localPosition.y = 0.5 + radius*(0.5+0.5*sinv)*0.5;\n            this._pointLight2.setTransformDirty();\n\n            this._scene.render();\n        }\n    }\n}\n\nexport default AppPostProcessing;","import AppTexturedCube from \"./AppTexturedCube\";\nimport AppObjLoader from \"./AppObjLoader\";\nimport AppSimpleScene from \"./AppSimpleScene\";\nimport AppNormalMap from \"./AppNormalMap\";\nimport AppMirror from \"./AppMirror\";\nimport AppPostProcessing from \"./AppPostProcessing\";\n\nfunction exampleTexturedCube(){\n    let app = new AppTexturedCube();    \n    mini3d.init('webgl', app);\n}\n\nfunction exampleObjLoader(){   \n    \n    let app = new AppObjLoader();\n    mini3d.init('webgl', app);\n}\n\nfunction exampleSimpleScene(){\n    let app = new AppSimpleScene();\n    mini3d.init('webgl', app);\n}\n\nfunction exampleNormalMap(){\n    let app = new AppNormalMap();\n    mini3d.init('webgl', app);\n}\n\nfunction exampleMirror(){\n    let app = new AppMirror();\n    mini3d.init('webgl', app);\n}\n\nfunction examplePostProcessing(){\n    let app = new AppPostProcessing();\n    mini3d.init('webgl', app);\n}\n\nlet examples = [\n    {\n        name:'Textured Cube',\n        entry:exampleTexturedCube\n    },\n    {\n        name:'Load .Obj Mesh',\n        entry:exampleObjLoader\n    },\n    {\n        name:'Simple Scene',\n        entry:exampleSimpleScene\n    },\n    {\n        name:'Normal Map',\n        entry:exampleNormalMap\n    },\n    {\n        name:'Mirror',\n        entry:exampleMirror\n    },\n    {\n        name:'PostProcessing',\n        entry:examplePostProcessing\n    }\n]\n\nexport default function main(){\n    return examples;\n}\n"],"names":["global","classof","IndexedObject","DESCRIPTORS","createElement","IE8_DOM_DEFINE","propertyIsEnumerableModule","definePropertyModule","nativeFunctionToString","WeakMap","has","NATIVE_WEAK_MAP","objectHas","InternalStateModule","require$$0","min","hiddenKeys","internalObjectKeys","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","getOwnPropertyDescriptor","isForced","aFunction","$","bind","vs_file","fs_file","tex_file","AppTexturedCube","_inited","_mesh","_shader","_texture","_viewMatrix","mini3d","Matrix4","_modelMatrix","_normalMatrix","_viewProjMatrix","_mvpMatrix","_rotX","_rotY","_rotZ","assetList","AssetType","Text","Image","assetManager","loadAssetList","start","setViewByLookAt","width","height","setPerspective","multiply","draw","dt","gl","vs","getAsset","data","fs","shader","Shader","create","console","log","mapAttributeSemantic","VertexSemantic","POSITION","NORMAL","UV0","use","textureManager","getTexture","Cube","createMesh","that","eventManager","addEventHandler","SystemEvent","touchMove","event","factor","canvas","dx","dy","clampAngle","angle","max","Math","clearColor","clearDepth","enable","DEPTH_TEST","setRotate","rotate","setInverseOf","transpose","set","setUniform","elements","lightDir","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","render","unbind","obj_file","AppObjLoader","_rotationQuat","Quaternion","_matRot","objFileString","objFileLoader","load","qx","axisAngle","Vector3","Right","qy","Up","toMatrix4","setTranslate","scale","obj_file_capsule","obj_file_sphere","obj_main_texture","plane_main_texture","AppSimpleScene","_time","_rotDegree","_tempQuat","_tempVec3","_scene","onScreenResize","createWorld","copyFrom","_mesh2","localPosition","z","x","capusleData","capusleMesh","sphereData","sphereMesh","Scene","planeMesh","Plane","matPlane","MatPixelLight","mainTexture","setRepeat","mainTextureST","specular","_planeNode","root","addMeshNode","meshRoot","addEmptyNode","material1","colorTint","_mesh1","material2","gloss","localScale","mainLight","addDirectionalLight","lookAt","lightColor","pointLight","addPointLight","lightball","MatSolidColor","_pointLight1","_pointLight2","_cameraNode","addPerspectiveCamera","camera","update","localRotation","setFromEulerAngles","y","cos","math","degToRad","setTransformDirty","worldPosition","cosv","sinv","sin","radius","MathUtils","Pi","TwoPi","HalfPi","Epsilon","ZeroEpsilon","degree","rad","f","sqrt","rhs","eps","s","lensq","g","src","dst","a","b","dz","obj_normal_map","box_main_texture","box_normal_map","plane_normal_map","brick_main_texture","brick_normal_map","AppNormalMap","groundMesh","matGround","MatNormalMap","normalMap","normalMapST","groundNode","wallMesh","matWall","createGround","wall1","createWall","MatNormalMapW","AppMirror","_mirror","texture","mirrorRoot","mirrorMesh","matMirror","MatMirror","node","wall2","wall3","wall4","matBox","box","_box","matBall","ball","matBall2","ball2","_ball2","mirrorWidth","mirrorHeight","_renderTexture","RenderTexture","mirror","createMirror","texture2D","_renderCamera","target","AppPostProcessing","addPostProcessing","MatPP_Grayscale","exampleTexturedCube","app","init","exampleObjLoader","exampleSimpleScene","exampleNormalMap","exampleMirror","examplePostProcessing","examples","name","entry","main"],"mappings":"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"}