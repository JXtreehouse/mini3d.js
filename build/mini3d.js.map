{"version":3,"file":"mini3d.js","sources":["../src/core/gl.js","../src/core/matrix.js","../src/core/shader.js","../src/core/mesh.js"],"sourcesContent":["let gl = null;\n\nfunction init(canvasId){\n    let canvas;\n    if(canvasId != null){\n        canvas = document.getElementById(canvasId);\n        if(canvas === undefined){\n            console.error(\"cannot find a canvas named:\"+canvasId);\n            return;\n        }\n    } else {\n        canvas = document.createElement(\"canvas\");       \n        document.body.appendChild(canvas);       \n    }\n   \n    canvas.width = Math.floor(canvas.clientWidth * window.devicePixelRatio);\n    canvas.height = Math.floor(canvas.clientHeight * window.devicePixelRatio);    \n\n    let names = [\"webgl\", \"experimental-webgl\", \"webkit-3d\", \"moz-webgl\"];\n    let context = null;\n    for(let i=0; i<names.length; ++i){\n        try{\n            context = canvas.getContext(names[i]);\n        } catch(e){}\n        if(context){\n            break;\n        }\n    }\n    gl = context;\n    gl.viewport(0, 0, canvas.width, canvas.height);\n};\n\nexport { init, gl };\n\n","class Matrix4 {\n    constructor(){\n        this.elements = new Float32Array([1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1]);\n    }\n\n    translate(x, y, z) {\n        var e = this.elements;\n        e[12] += e[0] * x + e[4] * y + e[8]  * z;\n        e[13] += e[1] * x + e[5] * y + e[9]  * z;\n        e[14] += e[2] * x + e[6] * y + e[10] * z;\n        e[15] += e[3] * x + e[7] * y + e[11] * z;\n        return this;\n    };\n\n    /**\n     * Set the viewing matrix.\n     * @param eyeX, eyeY, eyeZ The position of the eye point.\n     * @param centerX, centerY, centerZ The position of the reference point.\n     * @param upX, upY, upZ The direction of the up vector.\n     * @return this\n     */\n    setLookAtGL(eyeX, eyeY, eyeZ, targetX, targetY, targetZ, upX, upY, upZ){\n        // N = eye - target\n        var nx, ny, nz;\n        nx = eyeX - targetX;\n        ny = eyeY - targetY;\n        nz = eyeZ - targetZ;\n        var rl = 1/Math.sqrt(nx*nx+ny*ny+nz*nz);\n        nx *= rl;\n        ny *= rl;\n        nz *= rl;\n        // U = UP cross N\n        var ux, uy, uz;\n        ux = upY * nz - upZ * ny;\n        uy = upZ * nx - upX * nz;\n        uz = upX * ny - upY * nx;\n        rl = 1/Math.sqrt(ux*ux+uy*uy+uz*uz);\n        ux *= rl;\n        uy *= rl;\n        uz *= rl;\n        // V = N cross U\n        var vx, vy, vz;\n        vx = ny * uz - nz * uy;\n        vy = nz * ux - nx * uz;\n        vz = nx * uy - ny * ux;\n        rl = 1/Math.sqrt(vx*vx+vy*vy+vz*vz);\n        vx *= rl;\n        vy *= rl;\n        vz *= rl;\n    \n        var e = this.elements;\n        e[0] = ux;\n        e[1] = vx;\n        e[2] = nx;\n        e[3] = 0;\n    \n        e[4] = uy;\n        e[5] = vy;\n        e[6] = ny;\n        e[7] = 0;\n    \n        e[8] = uz;\n        e[9] = vz;\n        e[10] = nz;\n        e[11] = 0;\n    \n        e[12] = 0;\n        e[13] = 0;\n        e[14] = 0;\n        e[15] = 1;\n    \n        return this.translate(-eyeX, -eyeY, -eyeZ);\n    };\n}\n\nexport { Matrix4 }","import { gl } from \"./gl\";\n\nclass UniformInfo{\n    constructor(name, location, type, size, isArray){\n        this.name = name;\n        this.location = location; //WebGLUniformLocation\n        this.type = type;\n        this.size = size;   \n        this.isArray = isArray;     \n    }\n}\n\nclass Shader{\n    \n    constructor(){          \n        this.program = null;   \n        this._attributes = {}; // {[name:string]:number}\n        this._uniforms = {};  // {[name:string]:WebGLUniformLocation}\n    }\n\n    create(vshader, fshader){\n        let vertexShader = this.loadShader(gl.VERTEX_SHADER, vshader);\n        let fragmentShader = this.loadShader(gl.FRAGMENT_SHADER, fshader);\n        if (!vertexShader || !fragmentShader) {\n            return false;\n        }\n\n        // Create a program object\n        this.program = gl.createProgram();\n        if (!this.program) {\n            return false;\n        }\n\n        // Attach the shader objects\n        gl.attachShader(this.program, vertexShader);\n        gl.attachShader(this.program, fragmentShader);\n\n        // Link the program object\n        gl.linkProgram(this.program);\n\n        // Check the result of linking\n        let linked = gl.getProgramParameter(this.program, gl.LINK_STATUS);\n        if (!linked) {\n            let error = gl.getProgramInfoLog(this.program);\n            console.log('Failed to link program: ' + error);\n            gl.deleteProgram(this.program);\n            gl.deleteShader(fragmentShader);\n            gl.deleteShader(vertexShader);\n            this.program = null;    \n            return false;        \n        }\n\n        this.findoutAttributes();\n        this.findoutUniforms();\n\n        return true;\n    }\n\n    loadShader(type, source){\n        let shader = gl.createShader(type);\n        if (shader == null) {\n            console.log('unable to create shader');\n            return null;\n        }\n\n        // Set the shader program\n        gl.shaderSource(shader, source);\n\n         // Compile the shader\n        gl.compileShader(shader);\n\n        // Check the result of compilation\n        let compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n        if (!compiled) {\n            let error = gl.getShaderInfoLog(shader);\n            console.log('Failed to compile shader: ' + error);\n            gl.deleteShader(shader);\n            return null;\n        }\n\n        return shader;\n    }\n\n    findoutAttributes(){\n        let attributeCount = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\n        for(let i=0; i<attributeCount; ++i){\n            let info = gl.getActiveAttrib(this.program, i);\n            if(!info){\n                break;\n            }\n\n            this._attributes[info.name] = gl.getAttribLocation(this.program, info.name);\n        }\n\n        console.log('attributes',this._attributes);\n    }\n\n    findoutUniforms(){\n        let uniformCount = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\n        for(let i=0; i<uniformCount; ++i){\n            let info = gl.getActiveUniform(this.program, i);\n            if(!info){\n                break;\n            }\n\n            let location = gl.getUniformLocation(this.program, info.name);\n            let isArray = info.size > 1 && info.name.substr(-3) === '[0]';\n            let uniformInfo = new UniformInfo(info.name, location, info.type, info.size, isArray);\n            this._uniforms[info.name] = uniformInfo;\n        }\n\n        console.log('uniforms',this._uniforms);\n    }\n\n    setUniform(name, value){\n        let info = this._uniforms[name];\n        if(!info){\n            console.error('can not find uniform named '+name);\n            return;\n        }\n        switch(info.type){\n            case gl.FLOAT:{\n                if(info.isArray){\n                    gl.uniform1fv(info.location, value);\n                } else {\n                    gl.uniform1f(info.location, value);\n                }\n                break;\n            }\n            case gl.FLOAT_VEC2:{\n                gl.uniform2fv(info.location, value);\n                break;\n            }\n            case gl.FLOAT_VEC3:{\n                gl.uniform3fv(info.location, value);\n                break;\n            }\n            case gl.FLOAT_VEC4:{\n                gl.uniform4fv(info.location, value);\n                break;\n            }\n            case gl.FLOAT_MAT4:{\n                gl.uniformMatrix4fv(info.location, false, value);\n                break;\n            }\n            default:{\n                console.error('uniform type not support', info.type)\n                break;\n            }\n        }\n    }\n\n    use(){\n        if(this.program){\n            gl.useProgram(this.program);\n        }\n    }\n\n}\n\nexport { Shader };\n","import { gl } from \"./gl\";\n\nclass Mesh{    \n    constructor(){        \n        this._positions = null;\n        this._posCompCnt = 3;\n        this._colors= null;\n        this._colorCompCnt = 3;  \n        this._vbo = gl.createBuffer();\n        this._vcount = 0;      \n    }\n\n    get vbo(){\n        return this._vbo;\n    }\n\n    get vcount(){\n        return this._vcount;\n    }\n\n    get FSIZE(){\n        return this._FSIZE;\n    }\n\n    destroy(){\n        gl.deleteBuffer(this._vbo);        \n    }\n\n    setPositions(positions, compCnt){\n        this._positions = positions;\n        this._posCompCnt = compCnt;\n    }\n\n    setColors(colors, compCnt){\n        this._colors = colors;\n        this._colorCompCnt = compCnt;\n    }   \n\n    apply(){\n        if(this._positions == null || this._positions.length==0){\n            return;\n        }\n\n        let vertexCount = this._positions.length / this._posCompCnt;\n        let hasColor = this._colors && this._colors.length > 0;        \n\n        let data = [];\n        for(let i=0; i<vertexCount; i++){\n            for(let k=0; k<this._posCompCnt; k++){\n                data.push(this._positions[i*this._posCompCnt+k]);\n            }            \n            if(hasColor){\n                for(let k=0; k<this._colorCompCnt; k++){\n                    data.push(this._colors[i*this._colorCompCnt+k]);\n                }                \n            }\n        }\n\n        let buffer = new Float32Array(data);\n\n        this._vcount =  vertexCount;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._vbo);\n        gl.bufferData(gl.ARRAY_BUFFER, buffer, gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        \n        this._FSIZE = buffer.BYTES_PER_ELEMENT;\n    }\n}\n\nexport { Mesh };\n"],"names":["gl"],"mappings":"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"}