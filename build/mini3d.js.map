{"version":3,"file":"mini3d.js","sources":["../src/core/gl.js","../src/core/matrix.js","../src/core/shader.js","../src/core/mesh.js"],"sourcesContent":["let gl = null;\r\n\r\nfunction init(canvasId){\r\n    let canvas;\r\n    if(canvasId != null){\r\n        canvas = document.getElementById(canvasId);\r\n        if(canvas === undefined){\r\n            console.error(\"cannot find a canvas named:\"+canvasId);\r\n            return;\r\n        }\r\n    } else {\r\n        canvas = document.createElement(\"canvas\");       \r\n        document.body.appendChild(canvas);       \r\n    }\r\n   \r\n    canvas.width = Math.floor(canvas.clientWidth * window.devicePixelRatio);\r\n    canvas.height = Math.floor(canvas.clientHeight * window.devicePixelRatio);    \r\n\r\n    let names = [\"webgl\", \"experimental-webgl\", \"webkit-3d\", \"moz-webgl\"];\r\n    let context = null;\r\n    for(let i=0; i<names.length; ++i){\r\n        try{\r\n            context = canvas.getContext(names[i]);\r\n        } catch(e){}\r\n        if(context){\r\n            break;\r\n        }\r\n    }\r\n    gl = context;\r\n    gl.viewport(0, 0, canvas.width, canvas.height);\r\n};\r\n\r\nexport { init, gl };\r\n\r\n","class Matrix4 {\r\n    constructor(){\r\n        this.elements = new Float32Array([1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1]);\r\n    }\r\n\r\n    translate(x, y, z) {\r\n        var e = this.elements;\r\n        e[12] += e[0] * x + e[4] * y + e[8]  * z;\r\n        e[13] += e[1] * x + e[5] * y + e[9]  * z;\r\n        e[14] += e[2] * x + e[6] * y + e[10] * z;\r\n        e[15] += e[3] * x + e[7] * y + e[11] * z;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set the viewing matrix.\r\n     * @param eyeX, eyeY, eyeZ The position of the eye point.\r\n     * @param centerX, centerY, centerZ The position of the reference point.\r\n     * @param upX, upY, upZ The direction of the up vector.\r\n     * @return this\r\n     */\r\n    setLookAtGL(eyeX, eyeY, eyeZ, targetX, targetY, targetZ, upX, upY, upZ){\r\n        // N = eye - target\r\n        var nx, ny, nz;\r\n        nx = eyeX - targetX;\r\n        ny = eyeY - targetY;\r\n        nz = eyeZ - targetZ;\r\n        var rl = 1/Math.sqrt(nx*nx+ny*ny+nz*nz);\r\n        nx *= rl;\r\n        ny *= rl;\r\n        nz *= rl;\r\n        // U = UP cross N\r\n        var ux, uy, uz;\r\n        ux = upY * nz - upZ * ny;\r\n        uy = upZ * nx - upX * nz;\r\n        uz = upX * ny - upY * nx;\r\n        rl = 1/Math.sqrt(ux*ux+uy*uy+uz*uz);\r\n        ux *= rl;\r\n        uy *= rl;\r\n        uz *= rl;\r\n        // V = N cross U\r\n        var vx, vy, vz;\r\n        vx = ny * uz - nz * uy;\r\n        vy = nz * ux - nx * uz;\r\n        vz = nx * uy - ny * ux;\r\n        rl = 1/Math.sqrt(vx*vx+vy*vy+vz*vz);\r\n        vx *= rl;\r\n        vy *= rl;\r\n        vz *= rl;\r\n    \r\n        var e = this.elements;\r\n        e[0] = ux;\r\n        e[1] = vx;\r\n        e[2] = nx;\r\n        e[3] = 0;\r\n    \r\n        e[4] = uy;\r\n        e[5] = vy;\r\n        e[6] = ny;\r\n        e[7] = 0;\r\n    \r\n        e[8] = uz;\r\n        e[9] = vz;\r\n        e[10] = nz;\r\n        e[11] = 0;\r\n    \r\n        e[12] = 0;\r\n        e[13] = 0;\r\n        e[14] = 0;\r\n        e[15] = 1;\r\n    \r\n        return this.translate(-eyeX, -eyeY, -eyeZ);\r\n    };\r\n}\r\n\r\nexport { Matrix4 }","import { gl } from \"./gl\";\r\n\r\nclass UniformInfo{\r\n    constructor(name, location, type, size, isArray){\r\n        this.name = name;\r\n        this.location = location; //WebGLUniformLocation\r\n        this.type = type;\r\n        this.size = size;   \r\n        this.isArray = isArray;     \r\n    }\r\n}\r\n\r\nclass Shader{\r\n    \r\n    constructor(){          \r\n        this.program = null;   \r\n        this._attributes = {}; // {[name:string]:number}\r\n        this._uniforms = {};  // {[name:string]:WebGLUniformLocation}\r\n    }\r\n\r\n    create(vshader, fshader){\r\n        let vertexShader = this.loadShader(gl.VERTEX_SHADER, vshader);\r\n        let fragmentShader = this.loadShader(gl.FRAGMENT_SHADER, fshader);\r\n        if (!vertexShader || !fragmentShader) {\r\n            return false;\r\n        }\r\n\r\n        // Create a program object\r\n        this.program = gl.createProgram();\r\n        if (!this.program) {\r\n            return false;\r\n        }\r\n\r\n        // Attach the shader objects\r\n        gl.attachShader(this.program, vertexShader);\r\n        gl.attachShader(this.program, fragmentShader);\r\n\r\n        // Link the program object\r\n        gl.linkProgram(this.program);\r\n\r\n        // Check the result of linking\r\n        let linked = gl.getProgramParameter(this.program, gl.LINK_STATUS);\r\n        if (!linked) {\r\n            let error = gl.getProgramInfoLog(this.program);\r\n            console.log('Failed to link program: ' + error);\r\n            gl.deleteProgram(this.program);\r\n            gl.deleteShader(fragmentShader);\r\n            gl.deleteShader(vertexShader);\r\n            this.program = null;    \r\n            return false;        \r\n        }\r\n\r\n        this.findoutAttributes();\r\n        this.findoutUniforms();\r\n\r\n        return true;\r\n    }\r\n\r\n    loadShader(type, source){\r\n        let shader = gl.createShader(type);\r\n        if (shader == null) {\r\n            console.log('unable to create shader');\r\n            return null;\r\n        }\r\n\r\n        // Set the shader program\r\n        gl.shaderSource(shader, source);\r\n\r\n         // Compile the shader\r\n        gl.compileShader(shader);\r\n\r\n        // Check the result of compilation\r\n        let compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n        if (!compiled) {\r\n            let error = gl.getShaderInfoLog(shader);\r\n            console.log('Failed to compile shader: ' + error);\r\n            gl.deleteShader(shader);\r\n            return null;\r\n        }\r\n\r\n        return shader;\r\n    }\r\n\r\n    findoutAttributes(){\r\n        let attributeCount = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\r\n        for(let i=0; i<attributeCount; ++i){\r\n            let info = gl.getActiveAttrib(this.program, i);\r\n            if(!info){\r\n                break;\r\n            }\r\n\r\n            this._attributes[info.name] = gl.getAttribLocation(this.program, info.name);\r\n        }\r\n\r\n        console.log('attributes',this._attributes);\r\n    }\r\n\r\n    findoutUniforms(){\r\n        let uniformCount = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\r\n        for(let i=0; i<uniformCount; ++i){\r\n            let info = gl.getActiveUniform(this.program, i);\r\n            if(!info){\r\n                break;\r\n            }\r\n\r\n            let location = gl.getUniformLocation(this.program, info.name);\r\n            let isArray = info.size > 1 && info.name.substr(-3) === '[0]';\r\n            let uniformInfo = new UniformInfo(info.name, location, info.type, info.size, isArray);\r\n            this._uniforms[info.name] = uniformInfo;\r\n        }\r\n\r\n        console.log('uniforms',this._uniforms);\r\n    }\r\n\r\n    setUniform(name, value){\r\n        let info = this._uniforms[name];\r\n        if(!info){\r\n            console.error('can not find uniform named '+name);\r\n            return;\r\n        }\r\n        switch(info.type){\r\n            case gl.FLOAT:{\r\n                if(info.isArray){\r\n                    gl.uniform1fv(info.location, value);\r\n                } else {\r\n                    gl.uniform1f(info.location, value);\r\n                }\r\n                break;\r\n            }\r\n            case gl.FLOAT_VEC2:{\r\n                gl.uniform2fv(info.location, value);\r\n                break;\r\n            }\r\n            case gl.FLOAT_VEC3:{\r\n                gl.uniform3fv(info.location, value);\r\n                break;\r\n            }\r\n            case gl.FLOAT_VEC4:{\r\n                gl.uniform4fv(info.location, value);\r\n                break;\r\n            }\r\n            case gl.FLOAT_MAT4:{\r\n                gl.uniformMatrix4fv(info.location, false, value);\r\n                break;\r\n            }\r\n            default:{\r\n                console.error('uniform type not support', info.type)\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    setAttribute(name, bufferAttrib){\r\n        let location = this._attributes[name];\r\n        if(location==null){\r\n            console.error('can not find attribute named '+name);\r\n            return;\r\n        }\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, bufferAttrib.vbo);\r\n        gl.vertexAttribPointer(location, \r\n            bufferAttrib.size, \r\n            bufferAttrib.type, \r\n            bufferAttrib.normalized, \r\n            bufferAttrib.stride, \r\n            bufferAttrib.offset);\r\n        gl.enableVertexAttribArray(location);                \r\n    }\r\n\r\n    disableAttribute(name){\r\n        let location = this._attributes[name];\r\n        if(location==null){\r\n            console.error('can not find attribute named '+name);\r\n            return;\r\n        }\r\n\r\n        gl.disableVertexAttribArray(location);        \r\n    }\r\n\r\n    use(){\r\n        if(this.program){\r\n            gl.useProgram(this.program);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport { Shader };\r\n","import { gl } from \"./gl\";\r\n\r\nclass BufferAttribInfo{\r\n    constructor(vbo, size, stride, offset){\r\n        this.vbo = vbo;\r\n        this.size = size;\r\n        this.type = gl.FLOAT;\r\n        this.normalized = false;\r\n        this.stride = stride;\r\n        this.offset = offset;\r\n    }\r\n}\r\n\r\nclass Mesh{    \r\n    constructor(){        \r\n        this._positions = null;\r\n        this._posCompCnt = 3;\r\n        this._colors= null;\r\n        this._colorCompCnt = 3;  \r\n        this._vbo = gl.createBuffer();\r\n        this._vcount = 0;     \r\n        \r\n        this._attribPos = null;\r\n        this._attribColor = null;\r\n    }\r\n\r\n    get vbo(){\r\n        return this._vbo;\r\n    }\r\n\r\n    get vcount(){\r\n        return this._vcount;\r\n    }\r\n\r\n    destroy(){\r\n        gl.deleteBuffer(this._vbo);        \r\n    }\r\n\r\n    setPositions(positions, compCnt){\r\n        this._positions = positions;\r\n        this._posCompCnt = compCnt;\r\n    }\r\n\r\n    setColors(colors, compCnt){\r\n        this._colors = colors;\r\n        this._colorCompCnt = compCnt;\r\n    }   \r\n\r\n    apply(){\r\n        if(this._positions == null || this._positions.length==0){\r\n            return;\r\n        }\r\n\r\n        let vertexCount = this._positions.length / this._posCompCnt;\r\n        let hasColor = this._colors && this._colors.length > 0;        \r\n\r\n        let data = [];\r\n        for(let i=0; i<vertexCount; i++){\r\n            for(let k=0; k<this._posCompCnt; k++){\r\n                data.push(this._positions[i*this._posCompCnt+k]);\r\n            }            \r\n            if(hasColor){\r\n                for(let k=0; k<this._colorCompCnt; k++){\r\n                    data.push(this._colors[i*this._colorCompCnt+k]);\r\n                }                \r\n            }\r\n        }\r\n\r\n        let buffer = new Float32Array(data);\r\n\r\n        this._vcount =  vertexCount;\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._vbo);\r\n        gl.bufferData(gl.ARRAY_BUFFER, buffer, gl.STATIC_DRAW);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        \r\n        this._FSIZE = buffer.BYTES_PER_ELEMENT;\r\n\r\n        let vertexSize = this._posCompCnt;\r\n        if(hasColor){\r\n            vertexSize += this._colorCompCnt;\r\n        }\r\n\r\n        this._attribPos = new BufferAttribInfo(this._vbo, this._posCompCnt, vertexSize*this._FSIZE, 0);\r\n        if(hasColor){\r\n            this._attribColor = new BufferAttribInfo(this._vbo, this._colorCompCnt, vertexSize*this._FSIZE, this._posCompCnt*this._FSIZE);\r\n        }\r\n        \r\n    }\r\n\r\n    draw(shader){\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._vbo);\r\n        shader.setAttribute('a_Position', this._attribPos);\r\n        if(this._attribColor){\r\n            shader.setAttribute('a_Color', this._attribColor);\r\n        }\r\n             \r\n        gl.drawArrays(gl.TRIANGLES, 0, this._vcount);\r\n\r\n        shader.disableAttribute('a_Position');\r\n        if(this._attribColor){\r\n            shader.disableAttribute('a_Color');\r\n        }\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n    }\r\n}\r\n\r\nexport { Mesh };\r\n"],"names":["gl"],"mappings":"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"}